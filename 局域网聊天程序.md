# Qï¼šç”¨pythonå†™ä¸€ä¸ªåœ¨å±€åŸŸç½‘è¿è¡Œçš„å®æ—¶èŠå¤©å°ç¨‹åº
ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºäº Python ç¼–å†™çš„ç®€å•å±€åŸŸç½‘ï¼ˆLANï¼‰èŠå¤©å°ç¨‹åºï¼Œé‡‡ç”¨**Socket å¥—æ¥å­—é€šä¿¡** + **å¤šçº¿ç¨‹å¤„ç†å¹¶å‘è¿æ¥**çš„æ–¹å¼å®ç°ã€‚æ•´ä¸ªé¡¹ç›®åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š

---

## âœ… ä¸€ã€æœåŠ¡ç«¯ï¼š`chat_server.py`

```python
import socket
import threading

# æœåŠ¡å™¨é…ç½®
HOST = '0.0.0.0'  # æ‰€æœ‰ç½‘å¡éƒ½ç›‘å¬
PORT = 12345      # ç›‘å¬ç«¯å£
clients = []      # å­˜å‚¨æ‰€æœ‰å®¢æˆ·ç«¯è¿æ¥

def broadcast(message, sender_socket):
    """å°†æ¶ˆæ¯å¹¿æ’­ç»™å…¶ä»–æ‰€æœ‰å®¢æˆ·ç«¯"""
    for client in clients:
        if client != sender_socket:
            try:
                client.send(message)
            except:
                client.close()
                clients.remove(client)

def handle_client(client_socket, addr):
    """æ¥æ”¶å®¢æˆ·ç«¯æ¶ˆæ¯å¹¶å¹¿æ’­"""
    print(f"[+] æ–°è¿æ¥æ¥è‡ª {addr}")
    while True:
        try:
            msg = client_socket.recv(1024)
            if not msg:
                break
            broadcast(msg, client_socket)
        except:
            break
    print(f"[-] æ–­å¼€è¿æ¥ï¼š{addr}")
    client_socket.close()
    clients.remove(client_socket)

def start_server():
    """å¯åŠ¨æœåŠ¡å™¨"""
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    server.bind((HOST, PORT))
    server.listen()
    print(f"[+] æœåŠ¡å™¨å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ {PORT}")

    while True:
        client_socket, addr = server.accept()
        clients.append(client_socket)
        thread = threading.Thread(target=handle_client, args=(client_socket, addr))
        thread.start()

if __name__ == '__main__':
    start_server()
```

---

## âœ… äºŒã€å®¢æˆ·ç«¯ï¼š`chat_client.py`

```python
import socket
import threading

# æœåŠ¡å™¨åœ°å€ï¼ˆæ”¹æˆä½ æœåŠ¡ç«¯çš„ IPï¼‰
SERVER_IP = '192.168.1.100'  # ç¤ºä¾‹ï¼Œè¯·æ¢æˆæœåŠ¡ç«¯å®é™… IP
SERVER_PORT = 12345

def receive_messages(client_socket):
    """æ¥æ”¶æ¶ˆæ¯çº¿ç¨‹"""
    while True:
        try:
            msg = client_socket.recv(1024).decode('utf-8')
            print("\n" + msg)
        except:
            print("[!] ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥")
            client_socket.close()
            break

def main():
    """ä¸»å‡½æ•°ï¼šè¿æ¥æœåŠ¡å™¨ï¼Œå‘é€æ¶ˆæ¯"""
    client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client_socket.connect((SERVER_IP, SERVER_PORT))
    name = input("è¯·è¾“å…¥ä½ çš„æ˜µç§°ï¼š")
    print(f"[+] å·²è¿æ¥åˆ°æœåŠ¡å™¨ {SERVER_IP}:{SERVER_PORT}")

    # å¯åŠ¨æ¥æ”¶æ¶ˆæ¯çº¿ç¨‹
    thread = threading.Thread(target=receive_messages, args=(client_socket,))
    thread.daemon = True
    thread.start()

    # å‘é€æ¶ˆæ¯
    while True:
        msg = input()
        if msg.lower() == 'exit':
            break
        client_socket.send(f"{name}: {msg}".encode('utf-8'))

    client_socket.close()

if __name__ == '__main__':
    main()
```

---

## ğŸ“Œ ä½¿ç”¨æ–¹æ³•

1. å…ˆåœ¨ä¸€å°ä¸»æœºä¸Šè¿è¡Œ `chat_server.py`ï¼Œç›‘å¬ç«¯å£ã€‚
    
2. å…¶ä»–å±€åŸŸç½‘å†…è®¾å¤‡è¿è¡Œ `chat_client.py`ï¼Œå°† `SERVER_IP` æ”¹ä¸ºæœåŠ¡ç«¯çš„ IP åœ°å€ã€‚
    
3. åœ¨å®¢æˆ·ç«¯è¾“å…¥å†…å®¹åæŒ‰å›è½¦å³å¯å‘é€ï¼Œè¾“å…¥ `exit` å¯é€€å‡ºã€‚
    

---

å¦‚éœ€å®ç°å›¾å½¢ç•Œé¢ï¼ˆå¦‚ Tkinter æˆ– PyQtï¼‰ã€åŠ å¯†ä¼ è¾“ã€ç”¨æˆ·ç®¡ç†ç­‰åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç»§ç»­æ‰©å±•ã€‚å¦‚æœä½ æœ‰éœ€è¦ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç»§ç»­å¼€å‘ã€‚æ˜¯å¦éœ€è¦æä¾›ä¸€ä¸ªç®€å•çš„å›¾å½¢ç•Œé¢ç‰ˆæœ¬ï¼Ÿ